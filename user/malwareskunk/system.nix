{ ... }:
{
  lawModules = [ /network/zerotier ];

  systemUsers = [ "malwareskunk" ];

  system = {
    systemd.coredump.enable = false;

    services.clamav = {
      daemon.enable = true;
      updater.enable = true;
    };

    system.nixos.tags = [ "with-xen" ];
    virtualisation.xen = {
      enable = true;
      trace = true;

      efi.bootBuilderVerbosity = "info";

      xe-guest-utilities.enable = true;
      store.settings.persistent = true;

      bootParams = [
        "noreboot=true"
        "vga=ask"
        "sched=credit2"
        "iommu=force:true,qinval:true"
        "hvm_fep=1"
        "nested=1"
        "perfctr=1"
      ];
    };

    users.users.malwareskunk = {
      description = "MalwareSkunk";
      extraGroups = [
        "networkmanager"
        "wheel"
      ];

      openssh.authorizedKeys.keys = [
        "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIAqmDqRIyYfc7+Et/uj8BAbJuOy7B3GpV0MKNegeKCT3 malwareskunk@hologramsummeragain"
      ];
    };

    time.timeZone = "America/Bahia";

    nixpkgs.config.allowUnfree = true;
  };
}
