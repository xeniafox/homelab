{ pkgs, home-manager, ... }:
{
  username = "malwareskunk";

  lawModules = [
    /core/gnupg
    /programming/basic
  ];

  packages = with pkgs; [
    p7zip
    qemu_full
    docker
    docker-compose
    dbus
    xorg.xbacklight
    brightnessctl
    pciutils
    ffmpeg
    acpi
    syncthing
  ];

  system = {
    services = {
      dbus.enable = true;
    };

    networking = {
      nameservers = [ "1.1.1.1" "8.8.8.8" ];

      firewall = {
        allowedTCPPorts = [];
        allowedUDPPorts = [];
      };
    };

    home-manager.backupFileExtension = "backup";

    programs.bash.promptInit = ''
      TERM="xterm-256color"
      EDITOR="nvim"
      PAGER="less"

      PS1="\\[\\e[38;5;213;1m\\]\\u\\[\\e[0m\\]:\\[\\e[96;1m\\]\\w\\[\\e[0m\\]\\\\$ "

      export TERM EDITOR PAGER
    '';
  };

  home.home = {
    sessionVariables = {
      TERM = "xterm-256color";
      EDITOR = "nvim";
      PAGER = "less";
    };
  };
}
